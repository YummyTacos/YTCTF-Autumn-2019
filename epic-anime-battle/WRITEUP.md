# Epic Anime Battle: Write-up

После получения эйфории от функциональности сайта решаем посмотреть что у него внутри.
Единственное место, где есть что-то интересное - это js файл. По подключаемым скриптам понимаем, что
здесь используется база Firebase Firestore. Смотрим в код. Понимаем, что во front-end нет ничего 
такого. Смотрим связь с back-end. У переменной `app` есть метод `getData`, который исполняется 
только 1 раз, при загрузке страницы. Понятно, что эта функция получает данные. Однако она принимает 
вторым аргументом размер, а это уже интересно. Пару раз запустив функцию, понимаем, что она 
возвращает id тех самых аниме персонажей в количестве 200 штук. Попробуем изменить этот размер, 
к примеру, до 3000 и отправим post запрос

```js
axios.post('/getData', {
  collection: 'anime',
  size: 3000
}).then(response => {
  console.log(response.data)
})
```

Оказывается персонажей правда больше 200. Смотрим объект. Где-то в середине можно заметить, что 
вместо id идёт строка `T0pS3cR3tC00lEcT10N`. Также можно её увидеть, если прокрутить в самый конец 
объекта. Коллекция в Firestore - совокупность документов. Посмотрим, что находится в этой коллекции.
Погуглим, как доставать данные из коллекции, найдем что-то такое

```js
db.collection('T0pS3cR3tC00lEcT10N').get().then(snap => {
    snap.forEach((doc) => {
        console.log(doc.id, '=>', doc.data());
    })
})
```

Получаем флаг: `ytctf{i_thought_you_lov3_anime_and_y0u_dont_need_this_flag}`
